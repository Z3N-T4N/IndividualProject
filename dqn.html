<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- CSS -->
  <link rel="stylesheet" href="./style.css">

  <!-- D3.js -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://unpkg.com/d3-simple-slider"></script>

  <title>Visualizing Deep Reinforcement Learning</title>
</head>
<body>
  <h1>DQN Atari Breakout</h1>
  <div class="scoretab">
    <button class="scoretablinks" onclick="scores(event, 'scoresTab')" id="defaultScore">Scores</button>
    <button class="scoretablinks" onclick="scores(event, 'filtersTab')">Filters</button>
    <button class="scoretablinks" onclick="scores(event, 'poiTab')">Points of Interest</button>
  </div>
  <div id="scoresTab" class="scoretabcontent">
    <div class="chart">
      <svg id="scoreChart"></svg>
    </div>
    <div class="interaction">
      <input type="checkbox" id="std" checked> Standard Deviation	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <input type="checkbox" id="filter" checked> Filter &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <input type="checkbox" id="poi" checked> Points of Interest &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </div>
  </div>
  <div id="filtersTab" class="scoretabcontent">
    <div class="chart">
      <h2>Reward Frequency</h2>
      <div class="interaction"><h3 id="filter-value-time"></h3></div>
      <p style="text-align: center; font-size: 17px;">Each chart represents 5 episodes</p>
      <svg id="rewardFreqChart" width="1500" height="350"></svg>
    </div>
    <div class="interaction"><div id="filter-slider-time"></div></div>
  </div>
  <div id="poiTab" class="scoretabcontent">
    <div class="chart">
      <h2>Timestep 1300000</h2>
      <h3>Parallel Coordinates</h3>
      <p style="text-align: center; font-size: 17px;">Each line consists of 5 episodes (total 160 episodes)</p>
      <img src="./img/poi/parallel_coord/parallel_coord_1300000.png" width="600" style="display: block; margin: auto;">
      <h3>Reward Frequency</h3>
      <p style="text-align: center; font-size: 17px;">Each chart represents 5 episodes</p>
      <br>
      <img src="./img/dqn_reward_freq/dqn_reward_freq_1300000.png" width="1500" height="300">
      <p style="padding-left: 125px; font-size: 17px; text-decoration: underline;">^ Chart A ^</p>
      <p style="padding-left: 70px; font-size: 17px;">Agent learns a new strategy</p>
      <br>
      <img src="./img/poi/1300000.png" height="250" style="padding-left: 65px;">
      <img src="./img/poi/1300000.gif" height="250">
      <br>
      <h2>Timestep 1850000</h2>
      <h3>Parallel Coordinates</h3>
      <p style="text-align: center; font-size: 17px;">Each line consists of 5 episodes (total 160 episodes)</p>
      <img src="./img/poi/parallel_coord/parallel_coord_1850000.png" width="600" style="display: block; margin: auto;">
      <h3>Reward Frequency</h3>
      <p style="text-align: center; font-size: 17px;">Each chart represents 5 episodes</p>
      <br>
      <img src="./img/dqn_reward_freq/dqn_reward_freq_1850000.png" width="1500" height="300">
      <br>
      <h2>Timestep 4300000</h2>
      <h3>Parallel Coordinates</h3>
      <p style="text-align: center; font-size: 17px;">Each line consists of 5 episodes (total 160 episodes)</p>
      <img src="./img/poi/parallel_coord/parallel_coord_4300000.png" width="600" style="display: block; margin: auto;">
      <h3>Reward Frequency</h3>
      <p style="text-align: center; font-size: 17px;">Each chart represents 5 episodes</p>
      <br>
      <img src="./img/dqn_reward_freq/dqn_reward_freq_4300000.png" width="1500" height="300">
      <div style="display: flex;">
        <p style="padding-left: 125px; font-size: 17px; text-decoration: underline;">^ Chart A ^</p>
        <p style="padding-left: 820px; font-size: 17px; text-decoration: underline;">^ Chart D ^</p>
      </div>
      <div style="display: flex;">
        <p style="padding-left: 70px; font-size: 17px;">Agent fails to catch the ball</p>
        <p style="padding-left: 730px; font-size: 17px;">Agent's highest score</p>
      </div>
      <br>
      <img src="./img/poi/4300000A.png" height="250" style="padding-left: 65px;">
      <img src="./img/poi/4300000A.gif" height="250">
      <img src="./img/poi/4300000D.png" height="250" style="padding-left: 475px;">
      <img src="./img/poi/4300000D.gif" height="250">
    </div>
  </div>
  <br>
  <div class="actiontab">
    <button class="actiontablinks" onclick="actions(event, 'actions')" id="defaultActions">Actions</button>
    <button class="actiontablinks" onclick="actions(event, 'x')">x</button>
  </div>
  <div id="actions" class="actiontabcontent">
    <div class="chart">
      <svg id="actionChart"></svg>
    </div>
    <div class="interaction">
      <button type="button" id="stacked">Stacked</button>
      <button type="button" id="noop">Noop</button>
      <button type="button" id="fire">Fire</button>
      <button type="button" id="right">Right</button>
      <button type="button" id="left">Left</button>
    </div>
  </div>
  <div id="x" class="actiontabcontent">

  </div>
  <br>
  <div class="rewardtab">
    <button class="rewardtablinks" onclick="rewards(event, 'rewards')" id="defaultRewards">Rewards</button>
    <button class="rewardtablinks" onclick="rewards(event, 'loops')">Loops</button>
  </div>
  <div id="rewards" class="rewardtabcontent">
    <div class="chart">
      <svg id="rewardChart"></svg>
    </div>
    <div class="interaction">
      <input type="checkbox" id="loop" checked> Loop
    </div>
  </div>
  <div id="loops" class="rewardtabcontent">
    <div class="chart">
      <h2>Loops</h2>
      <h3>Frame Stack</h3>
      <p style="text-align: center; font-size: 17px;">Agent stuck in a loop due to lack of exploration</p>
      <br>
      <div class="column">
        <p class="subtitle">Timestep 2250000</p>
        <br>
        <img src="./img/loop/frame_2250000.png" height="250">
        <img src="./img/loop/2250000.gif" height="250">
      </div>
      <div class="column">
        <p class="subtitle">Timestep 3450000</p>
        <br>
        <img src="./img/loop/frame_3450000.png" height="250">
        <img src="./img/loop/3450000.gif" height="250">
      </div>
      <div class="column">
        <p class="subtitle">Timestep 4200000</p>
        <br>
        <img src="./img/loop/frame_4200000.png" height="250">
        <img src="./img/loop/4200000.gif" height="250">
      </div>
      <div class="column">
        <p class="subtitle">Timestep 4400000</p>
        <br>
        <img src="./img/loop/frame_4400000.png" height="250">
        <img src="./img/loop/4400000.gif" height="250">
      </div>
      <div class="column">
        <p class="subtitle">Timestep 4850000</p>
        <br>
        <img src="./img/loop/frame_4850000.png" height="250">
        <img src="./img/loop/4850000.gif" height="250">
      </div>
    </div>
  </div>
</body>
<script src="dqn.js"></script>
</html>
